(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8541:function(e,s,r){Promise.resolve().then(r.bind(r,3029))},3029:function(e,s,r){"use strict";r.d(s,{default:function(){return u}});var a=r(7437),i=r(2265),l=r(5725),t=e=>{let{onFileAccepted:s,isProcessing:r}=e,t=(0,i.useCallback)(e=>{e.length>0&&s(e[0])},[s]),{getRootProps:o,getInputProps:n,isDragActive:d}=(0,l.uI)({onDrop:t,accept:{"image/jpeg":[],"image/png":[],"image/gif":[],"image/webp":[]},maxFiles:1,disabled:r});return(0,a.jsxs)("div",{...o(),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition\n        ".concat(d?"border-primary bg-blue-50":"border-gray-300 hover:border-primary","\n        ").concat(r?"opacity-50 cursor-not-allowed":"","\n      "),children:[(0,a.jsx)("input",{...n()}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("svg",{className:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),d?(0,a.jsx)("p",{className:"text-lg text-primary font-medium",children:"Drop your image here"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:"Drag & drop your image here"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"or click to browse files"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Supports JPG, PNG, GIF, and WebP"})]})]})]})},o=e=>{let{options:s,setOptions:r,isProcessing:i}=e,l=Math.round(100*(s.quality||.8));return(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Compression Options"}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"quality",className:"block text-sm font-medium text-gray-700 mb-1",children:["Quality: ",l,"%"]}),(0,a.jsx)("input",{id:"quality",type:"range",min:"10",max:"100",value:l,onChange:e=>{let s=parseFloat(e.target.value);r(e=>({...e,quality:s/100}))},disabled:i,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"Low"}),(0,a.jsx)("span",{children:"Medium"}),(0,a.jsx)("span",{children:"High"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"maxSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Size"}),(0,a.jsxs)("select",{id:"maxSize",value:s.maxSizeMB,onChange:e=>{let s=parseFloat(e.target.value);r(e=>({...e,maxSizeMB:s}))},disabled:i,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary",children:[(0,a.jsx)("option",{value:"0.1",children:"100 KB"}),(0,a.jsx)("option",{value:"0.25",children:"250 KB"}),(0,a.jsx)("option",{value:"0.5",children:"500 KB"}),(0,a.jsx)("option",{value:"1",children:"1 MB"}),(0,a.jsx)("option",{value:"2",children:"2 MB"}),(0,a.jsx)("option",{value:"5",children:"5 MB"}),(0,a.jsx)("option",{value:"10",children:"10 MB"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"maxDimension",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Dimension"}),(0,a.jsxs)("select",{id:"maxDimension",value:s.maxWidthOrHeight,onChange:e=>{let s=parseInt(e.target.value);r(e=>({...e,maxWidthOrHeight:s}))},disabled:i,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary",children:[(0,a.jsx)("option",{value:"800",children:"800px"}),(0,a.jsx)("option",{value:"1280",children:"1280px"}),(0,a.jsx)("option",{value:"1920",children:"1920px"}),(0,a.jsx)("option",{value:"2560",children:"2560px"}),(0,a.jsx)("option",{value:"3840",children:"3840px (4K)"})]})]})]})]})},n=e=>{let{result:s}=e;if(!s)return null;let r=e=>e<.1?"".concat(Math.round(1024*e)," KB"):"".concat(e.toFixed(2)," MB");return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Image Comparison"})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 p-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-center",children:"Original"}),(0,a.jsx)("div",{className:"relative aspect-video bg-gray-100 rounded overflow-hidden",children:(0,a.jsx)("img",{src:s.originalUrl,alt:"Original",className:"object-contain w-full h-full"})}),(0,a.jsxs)("div",{className:"text-sm text-center text-gray-600",children:["Size: ",r(s.originalSize)]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-center",children:"Compressed"}),(0,a.jsx)("div",{className:"relative aspect-video bg-gray-100 rounded overflow-hidden",children:(0,a.jsx)("img",{src:s.compressedUrl,alt:"Compressed",className:"object-contain w-full h-full"})}),(0,a.jsxs)("div",{className:"text-sm text-center text-gray-600",children:["Size: ",r(s.compressedSize)]})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Compression Ratio"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-green-600",children:[s.compressionRatio.toFixed(2),"% reduction"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:(0,a.jsx)("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:"".concat(Math.min(100,s.compressionRatio),"%")}})})]})]})},d=r(4937),c=r(12);async function m(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxSizeMB:1};try{let r=e.size/1024/1024,a={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,quality:.8,...s},i=await (0,d.Z)(e,a),l=i.size/1024/1024,t=await d.Z.getDataUrlFromFile(e),o=await d.Z.getDataUrlFromFile(i);return{compressedFile:i,originalSize:r,compressedSize:l,compressionRatio:(1-l/r)*100,originalUrl:t,compressedUrl:o}}catch(e){throw console.error("Error compressing image:",e),e}}var u=()=>{let[e,s]=(0,i.useState)(null),[r,l]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null),[x,h]=(0,i.useState)(null),[p,g]=(0,i.useState)({maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,quality:.8}),b=async e=>{s(e),h(null);try{l(!0);let s=await m(e,p);u(s)}catch(e){console.error("Compression error:",e),h("Failed to compress image. Please try again with a different image.")}finally{l(!1)}},j=async()=>{if(e)try{l(!0),h(null);let s=await m(e,p);u(s)}catch(e){console.error("Recompression error:",e),h("Failed to recompress image. Please try again with different options.")}finally{l(!1)}};return(0,a.jsxs)("div",{className:"grid md:grid-cols-8 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-5 space-y-6",children:[d?(0,a.jsx)(n,{result:d}):(0,a.jsx)(t,{onFileAccepted:b,isProcessing:r}),x&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:x}),d&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)("button",{onClick:()=>{if(d&&e)try{!function(e,s){try{let r=s.split(".").pop()||"jpg",a=s.replace(/\.[^/.]+$/,"-compressed.".concat(r));(0,c.saveAs)(e,a)}catch(e){throw console.error("Error downloading compressed image:",e),e}}(d.compressedFile,e.name)}catch(e){console.error("Download error:",e),h("Failed to download image. Please try again.")}},disabled:r,className:"px-4 py-2 bg-primary text-white rounded shadow hover:bg-blue-700  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50  transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Download Compressed Image"}),(0,a.jsx)("button",{onClick:()=>{s(null),u(null)},disabled:r,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded shadow hover:bg-gray-300  focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50  transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Upload New Image"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-3",children:[(0,a.jsx)(o,{options:p,setOptions:g,isProcessing:r}),d&&(0,a.jsx)("button",{onClick:j,disabled:r,className:"mt-4 w-full px-4 py-2 bg-green-600 text-white rounded shadow  hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500  focus:ring-opacity-50 transition-colors disabled:opacity-50  disabled:cursor-not-allowed",children:r?"Processing...":"Apply New Settings"})]})]})}}},function(e){e.O(0,[72,971,117,744],function(){return e(e.s=8541)}),_N_E=e.O()}]);